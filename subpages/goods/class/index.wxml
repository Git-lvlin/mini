<wxs module="tools" src="../../../wxs/common.wxs" />

<view class="container">
  <nav-bar titleIsSearch useCustomBack >
    <view slot="slot_back" class="back" />
  </nav-bar>

  <view class="body" >
    <view class="nav_height" style="height: {{$.systemInfo.navTotalHeight}}rpx;">
      <view class="back" />
    </view>

    <view class="content">
      <!-- 分类列表 -->
      <view class="class_list">
        <class-list
          bind:popupShow="handleClassPopupShow"
        />
      </view>
      <!-- 分类详细 -->
      <view class="class_detail_content">
        <scroll-view scroll-y class="class_detail_scroll" style="height:{{classScrollHeight}}rpx">
          <view class="detail_menu">
            <view
              class="menu_item {{item.index === classIndex ? 'menu_item_act' : ''}}"
              wx:for="{{treeData}}"
              wx:key="index"
              data-index="{{item.index}}"
              bindtap="onSelectClass"
            >
              <text>{{item.text}}</text>
              <view class="selected" />
            </view>
          </view>
        </scroll-view>
        <scroll-view scroll-y class="content_scroll" style="height:{{classScrollHeight}}rpx">
          <view class="detail_content">
            <van-image width="550rpx" height="180rpx" custom-class="content_banner" fit="cover" src="" />
            <view class="detail_list">
              <join-card border wx:for="{{9}}" bind:handleNum="handleNum"/>
            </view>
          </view>
        </scroll-view>
      </view>
      <!-- 结算 -->
      <view class="settlement">
        <settlement-bar classPopupState="{{classPopupState}}" />
      </view>
    </view>
  </view>
</view>
